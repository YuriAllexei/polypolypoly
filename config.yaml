# Database Configuration
database:
  url: "postgres://postgres:postgres@localhost:5432/polymarket"  # Postgres connection URL

# Gamma API Configuration (Market Discovery)
gamma_api:
  base_url: "https://gamma-api.polymarket.com"
  sync_interval_secs: 30  # How often to check for new markets
  initial_sync_on_startup: true  # Fetch ALL markets on startup

  # Filters for market discovery
  filters:
    min_liquidity: 100.0  # Optional: only track markets with > $100 liquidity

# LLM Market Filter Configuration
llm:
  # Ollama API endpoint
  endpoint: "http://localhost:11434"

  # Model to use for filtering (must be pulled first)
  model: "llama3.2"

  # Prompt for identifying compatible markets
  # The LLM will receive a list of markets and filter based on this prompt
  prompt: |
    You are a market filter for a trading bot. Given a list of prediction markets,
    identify which ones are suitable for last-minute arbitrage trading.

    Look for markets that:
    - Resolve within the next 60 minutes
    - Have clear, objective resolution criteria
    - Are liquid enough for quick trades
    - Examples: crypto price movements, sports outcomes, political events

    Return ONLY the market IDs (one per line) that match these criteria.
    Do not include explanations.

  # Cache file to avoid re-checking markets with LLM (DEPRECATED - now uses database)
  cache_file: "market_cache.json"

# Trading Parameters
trading:
  # Minimum probability threshold to enter trade (0.0 - 1.0)
  # Example: 0.98 means only trade when one side is at 98Â¢ or higher
  probability_threshold: 0.98

  # How many seconds before market resolution to place orders
  # Lower = more certain outcome, but less time to execute
  seconds_before_resolution: 10

  # Amount to bet per market in USD
  bet_amount_usd: 50.0

# Risk Management
risk:
  # Maximum number of open positions at once
  max_concurrent_positions: 10

  # Maximum bet amount for a single market
  max_bet_per_market: 100.0

  # Stop trading if daily losses exceed this amount
  daily_loss_limit: 500.0

  # Skip trades with less than this much profit (in cents)
  min_profit_cents: 50.0

# Polymarket Configuration
polymarket:
  # CLOB REST API URL
  clob_url: "https://clob.polymarket.com"

  # WebSocket URL for real-time orderbook updates
  ws_url: "wss://ws-subscriptions-clob.polymarket.com/ws/"

  # Polygon chain ID
  chain_id: 137

  # Signature type: 0 = EOA/MetaMask, 1 = Email wallet, 2 = Browser proxy
  signature_type: 0

# Market Scanner Configuration
scanner:
  # How often to fetch new markets (in seconds)
  poll_interval_secs: 30

  # Only monitor markets resolving within this many minutes
  min_resolution_window_mins: 60
